<div *ngIf="isFormLoded" fxLayout="column" fxLayoutAlign="space-between stretch" fxFlexFil fxFill
    class="components-container-gt-xs ">

    <form (submit)="saveChanges()" (keydown.enter)="$event.preventDefault()" [formGroup]="form" fxLayout="row"
        fxLayoutAlign="space-between stretch" fxFlexFil fxFill fxLayoutGap="20px">
        
        <div fxFlex="100" fxLayoutGap="10px" fxLayout="column" class="mat-elevation-z2 contact-add">

            <div fxFlex="10" fxLayout="row" fxLayoutAlign="space-between center">

                <h3 class="mat-headline">{{heading}}</h3>
                <div fxLayout="row" fxLayoutAlign="end center" fxFlex="10">
                    <button type="button" mat-icon-button (click)="onCancel()">
                        <mat-icon>close</mat-icon>
                    </button>
                </div>           
            </div>

            <mat-divider></mat-divider>            
            <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
                <div fxFlex="30">
                    <div fxLayout="row" fxFlexFill>
                        <div fxLayout="column" fxFlex="80">
                            <div class="profile-image">
                                <input class="profile-image" type="image" [src]="imageUrl">
                            </div>
                        </div>
                        <div fxLayout="column" fxFlex="80" fxLayoutAlign="end center">
                            <input type="file" #file placeholder="Choose file" (change)="uploadFile(file.files)"
                                style="display:none;">
                            <button type="button" color="primary" mat-raised-button
                                (click)="file.click()">Upload</button>
                        </div>
                    </div>
                </div>
                <div fxFlex="70" fxLayout="row">
                    <div fxLayout="column" fxFlexFill>
                        <mat-form-field fxFlex="100" appearance="outline">
                            <mat-label>Name *</mat-label>
                            <input matInput placeholder="Name" formControlName="name">
                            <mat-error
                                *ngIf="f.name.invalid && (f.name.touched || f.name.dirty) && f.name.hasError('required')">
                                Name is required.</mat-error>
                        </mat-form-field>
                        <mat-form-field fxFlex="100" appearance="outline">
                            <mat-label>Email * </mat-label>
                            <input matInput placeholder="Email" formControlName="email">
                            <mat-error
                            *ngIf="f.email.invalid && (f.email.touched || f.email.dirty) && f.email.hasError('required')">
                            Email is required.</mat-error>
                        </mat-form-field>
                       
                    </div>
                </div>
            </div>
            <mat-divider></mat-divider>
                <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
                                   
                    <mat-form-field fxFlex="50" appearance="outline">
                        <mat-label>Contact Number *</mat-label>
                        <input matInput placeholder="Contact Number" formControlName="contactNumber">
                        <mat-error
                                *ngIf="f.contactNumber.invalid && (f.contactNumber.touched || f.contactNumber.dirty) && f.contactNumber.hasError('required')">
                                Contact Number is required.</mat-error>
                    </mat-form-field>
                   
                    <mat-form-field fxFlex="50" appearance="outline">
                        <mat-label>Personnel Number *</mat-label>
                        <input matInput placeholder="Personnel Number" formControlName="personalNumber">  
                        <mat-error
                                *ngIf="f.personalNumber.invalid && (f.personalNumber.touched || f.personalNumber.dirty) && f.personalNumber.hasError('required')">
                                Personnel Number is required.</mat-error>                                 
                    </mat-form-field>
                    
                </div>
                <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
                   
                    <mat-form-field fxFlex="35" appearance="outline">
                        <mat-label>Current Rank *</mat-label>
                        <input matInput placeholder="Current Rank" formControlName="currentRank"> 
                        <mat-error
                                *ngIf="f.currentRank.invalid && (f.currentRank.touched || f.currentRank.dirty) && f.currentRank.hasError('required')">
                                Current Rank is required.</mat-error>                                 
                    </mat-form-field>
                    <mat-form-field fxFlex="35" appearance="outline">
                        <mat-label>Present Posting </mat-label>
                        <input matInput placeholder="Present Posting" formControlName="presentPosting">  
                        <mat-error
                        *ngIf="f.presentPosting.invalid && (f.presentPosting.touched || f.presentPosting.dirty) && f.presentPosting.hasError('required')">
                        Present Posting is required.</mat-error>                                  
                    </mat-form-field>
                    <mat-form-field fxFlex="30" appearance="outline">
                        <mat-label>Date of joining Posting </mat-label>
                        <input formControlName="dateOfJoiningPresentPosting" matInput [matDatepicker]="presentPostingPicker"
                            (click)="presentPostingPicker.open()" placeholder="Date of joining Present Posting">
                        <mat-datepicker-toggle matSuffix [for]="presentPostingPicker"></mat-datepicker-toggle>
                        <mat-datepicker #presentPostingPicker></mat-datepicker>
                        <mat-error
                                *ngIf="f.dateOfJoiningPresentPosting.invalid && (f.dateOfJoiningPresentPosting.touched || f.dateOfJoiningPresentPosting.dirty) && f.dateOfJoiningPresentPosting.hasError('required')">
                                Date joining Post is required.</mat-error> 
                                   
                    </mat-form-field>
                    
                </div>
                <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
                    <mat-form-field fxFlex="30" appearance="outline">
                       <mat-label>Religion </mat-label>
                       <mat-select formControlName="religionId">
                           <mat-option>Please Choose Religion </mat-option>
                           <mat-option *ngFor="let item of religionStatusList" [value]="item.id">
                               {{item.name}}</mat-option>
                       </mat-select>
                   </mat-form-field>
                   <mat-form-field fxFlex="35" appearance="outline">
                       <mat-label>Gender </mat-label>
                       <mat-select formControlName="genderId">
                           <mat-option>Please Choose Gender</mat-option>
                           <mat-option *ngFor="let item of genderStatusList" [value]="item.id">
                               {{item.name}}</mat-option>
                       </mat-select>
                   </mat-form-field>					
                   <mat-form-field fxFlex="35" appearance="outline">
                       <mat-label>Martial Status </mat-label>
                       <mat-select formControlName="maritalStatusId">
                           <mat-option>Please Choose Marital status </mat-option>
                           <mat-option *ngFor="let item of martialStatusList" [value]="item.id">
                               {{item.name}}</mat-option>
                       </mat-select>
                   </mat-form-field>
                </div>
                <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
                    <mat-form-field fxFlex="50" appearance="outline">
                        <mat-label>Permanent Address *</mat-label>
                        <input matInput placeholder="Permanent Address" formControlName="permanentAddress">
                        <mat-error
                            *ngIf="f.permanentAddress.invalid && (f.permanentAddress.touched || f.permanentAddress.dirty) && f.permanentAddress.hasError('required')">
                            Permanent Addres is required.</mat-error>
                    </mat-form-field>
                    <mat-form-field fxFlex="50" appearance="outline">
                        <mat-label>Present Address</mat-label>
                        <input matInput placeholder="Present Address" formControlName="presentAddress">                                  
                    </mat-form-field>                                       
                </div>
                <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
                    <mat-form-field fxFlex="50" appearance="outline">
                        <mat-label>Date Of Birth</mat-label>
                        <input formControlName="dateOffBirth" matInput [matDatepicker]="picker"
                            (click)="picker.open()" placeholder="Date Of Birth">
                        <mat-datepicker-toggle matSuffix [for]="picker"></mat-datepicker-toggle>
                        <mat-datepicker #picker></mat-datepicker>
                    </mat-form-field>
                    <mat-form-field fxFlex="50" appearance="outline">
                        <mat-label>Date Of Enlistment</mat-label>
                        <input formControlName="dateOfEnlistment" matInput [matDatepicker]="pickerEnlistment"
                            (click)="pickerEnlistment.open()" placeholder="Date Of Enlistment">
                        <mat-datepicker-toggle matSuffix [for]="pickerEnlistment"></mat-datepicker-toggle>
                        <mat-datepicker #pickerEnlistment></mat-datepicker>
                    </mat-form-field>
                                      
                </div>
                <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
                    <mat-form-field fxFlex="50" appearance="outline">
                        <mat-label>Father Name</mat-label>
                        <input matInput placeholder="Father Name" formControlName="fatherName">
                    </mat-form-field>
                    <mat-form-field fxFlex="50" appearance="outline">
                        <mat-label>Mother Name </mat-label>
                        <input matInput placeholder="Mother Name" formControlName="motherName">                                  
                    </mat-form-field>                    
                </div>
            <mat-divider></mat-divider>
   

         <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayoutAlign="space-between center">
              <h4 class="mat-headline" fxFlex="80">Personnel Spouse</h4>
         </div>
         <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
              <table mat-table formArrayName="personnelSpouses"               
               [dataSource]="personnelSpouseDataSource"
                  class="mat-elevation-z8 table-index">
                  <ng-container matColumnDef="No">
                      <th mat-header-cell *matHeaderCellDef [style.width.%]="10">No</th>
                      <td mat-cell *matCellDef="let element ; let i = index">No {{ i+1}}</td>
                      <td mat-footer-cell *matFooterCellDef> </td>
                  </ng-container>
                  <ng-container matColumnDef="FirstName">
                      <th mat-header-cell *matHeaderCellDef>First Name</th>
                      <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                          <mat-form-field appearance="outline" [style.width.%]="98">                    
                                  <mat-label>First Name</mat-label>
                                  <input matInput formControlName="firstName">                 
                              
                          </mat-form-field>
                      </td>
                      <td mat-footer-cell *matFooterCellDef> </td>
          
                  </ng-container>

                  <ng-container matColumnDef="LastName">
                    <th mat-header-cell *matHeaderCellDef>Last Name</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Last Name</mat-label>
                                <input matInput formControlName="lastName">                 
                            
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
        
                </ng-container>
                  
                   
                  <ng-container matColumnDef="actions">
                      <th mat-header-cell *matHeaderCellDef [style.width.%]="10">Actions</th>
                      <td mat-cell *matCellDef="let element; let index = index">
          
                          <button type="button" mat-icon-button title="Delete" color="warn" [swal]="{
                                title: 'Confirmation',
                                text: 'Are you sure that you want to delete the record?',
                                showCancelButton: true
                            }" (confirm)="onPersonnelSpouseDelete(element,index)">
                              <mat-icon>delete</mat-icon>
                          </button>
          
                      </td>
                      <td mat-footer-cell *matFooterCellDef>
                          <button type="button" (click)="onAddPersonnelSpouse()" mat-icon-button title="Delete"
                              color="warn">
                              <mat-icon>add</mat-icon>
                          </button>
                      </td>
          
                  </ng-container>
          
                  <tr mat-header-row *matHeaderRowDef="personnelSpouseDataSourceColumns"></tr>
                  <tr [hidden]="row.controls['isActive'].value==0" mat-row
                      *matRowDef="let row; columns: personnelSpouseDataSourceColumns"></tr>
                  <tr mat-footer-row *matFooterRowDef="personnelSpouseDataSourceColumns"></tr>
              </table>
         </div> 
         <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayoutAlign="space-between center">
            <h4 class="mat-headline" fxFlex="80">Personnel Children</h4>
         </div>
         <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
            <table mat-table formArrayName="personnelChildrens"               
             [dataSource]="personnelChildrenDataSource"
                class="mat-elevation-z8 table-index">
                <ng-container matColumnDef="No">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">No</th>
                    <td mat-cell *matCellDef="let element ; let i = index">No {{ i+1}}</td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>
                <ng-container matColumnDef="FirstName">
                    <th mat-header-cell *matHeaderCellDef>First Name</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>First Name</mat-label>
                                <input matInput formControlName="firstName">                 
                            
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
        
                </ng-container>

                <ng-container matColumnDef="LastName">
                  <th mat-header-cell *matHeaderCellDef>Last Name</th>
                  <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                      <mat-form-field appearance="outline" [style.width.%]="98">                    
                              <mat-label>Last Name</mat-label>
                              <input matInput formControlName="lastName">                 
                          
                      </mat-form-field>
                  </td>
                  <td mat-footer-cell *matFooterCellDef> </td>
      
              </ng-container>
                
                 
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">Actions</th>
                    <td mat-cell *matCellDef="let element; let index = index">
        
                        <button type="button" mat-icon-button title="Delete" color="warn" [swal]="{
                              title: 'Confirmation',
                              text: 'Are you sure that you want to delete the record?',
                              showCancelButton: true
                          }" (confirm)="onPersonnelChildrenDelete(element,index)">
                            <mat-icon>delete</mat-icon>
                        </button>
        
                    </td>
                    <td mat-footer-cell *matFooterCellDef>
                        <button type="button" (click)="onAddPersonnelChildren()" mat-icon-button title="Delete"
                            color="warn">
                            <mat-icon>add</mat-icon>
                        </button>
                    </td>
        
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="personnelChildrenDataSourceColumns"></tr>
                <tr [hidden]="row.controls['isActive'].value==0" mat-row
                    *matRowDef="let row; columns: personnelChildrenDataSourceColumns"></tr>
                <tr mat-footer-row *matFooterRowDef="personnelChildrenDataSourceColumns"></tr>
            </table>
         </div>

        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayoutAlign="space-between center">
            <h4 class="mat-headline" fxFlex="80">Educational History</h4>
        </div>
        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
            <table mat-table formArrayName="personnelEducationalBackgrounds"               
             [dataSource]="personnelEducationDataSource"
                class="mat-elevation-z8 table-index">
                <ng-container matColumnDef="No">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">No</th>
                    <td mat-cell *matCellDef="let element ; let i = index">No {{ i+1}}</td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>
                <ng-container matColumnDef="Institution">
                    <th mat-header-cell *matHeaderCellDef>Institution Name</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Institution Name</mat-label>
                                <input matInput formControlName="institutionName">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>
				 <ng-container matColumnDef="Qualification">
                    <th mat-header-cell *matHeaderCellDef>Qualification Name</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Qualification Name</mat-label>
                                <input matInput formControlName="qualificationName">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>

                <ng-container matColumnDef="graduationYear">
                  <th mat-header-cell *matHeaderCellDef>Graduation Year</th>
                  <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                      <mat-form-field appearance="outline" [style.width.%]="98">                    
                        <input formControlName="graduationYear" matInput [matDatepicker]="pickerYear"
                        (click)="pickerYear.open()" placeholder="Graduation Year">
                    <mat-datepicker-toggle matSuffix [for]="pickerYear"></mat-datepicker-toggle>
                    <mat-datepicker #pickerYear></mat-datepicker>              
                          
                      </mat-form-field>
                  </td>
                  <td mat-footer-cell *matFooterCellDef> </td>
      
              </ng-container>
                 
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">Actions</th>
                    <td mat-cell *matCellDef="let element; let index = index">
        
                        <button type="button" mat-icon-button title="Delete" color="warn" [swal]="{
                              title: 'Confirmation',
                              text: 'Are you sure that you want to delete the record?',
                              showCancelButton: true
                          }" (confirm)="onPersonnelEducationDelete(element,index)">
                            <mat-icon>delete</mat-icon>
                        </button>
        
                    </td>
                    <td mat-footer-cell *matFooterCellDef>
                        <button type="button" (click)="onAddPersonnelEducation()" mat-icon-button title="Delete"
                            color="warn">
                            <mat-icon>add</mat-icon>
                        </button>
                    </td>
        
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="personnelEducationDataSourceColumns"></tr>
                <tr [hidden]="row.controls['isActive'].value==0" mat-row
                    *matRowDef="let row; columns: personnelEducationDataSourceColumns"></tr>
                <tr mat-footer-row *matFooterRowDef="personnelEducationDataSourceColumns"></tr>
            </table>
        </div> 
        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayoutAlign="space-between center">
            <h4 class="mat-headline" fxFlex="80">Personnel Posting</h4>
        </div>
        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
            <table mat-table formArrayName="personnelPostings"               
             [dataSource]="personnelPostingsDataSource"
                class="mat-elevation-z8 table-index">
                <ng-container matColumnDef="No">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">No</th>
                    <td mat-cell *matCellDef="let element ; let i = index">No {{ i+1}}</td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>
                <ng-container matColumnDef="Post">
                    <th mat-header-cell *matHeaderCellDef>Post</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Post</mat-label>
                                <input matInput formControlName="post">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>
				 <ng-container matColumnDef="Place">
                    <th mat-header-cell *matHeaderCellDef>Place of Posting</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Place of Posting</mat-label>
                                <input matInput formControlName="place">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>

                <ng-container matColumnDef="From">
                  <th mat-header-cell *matHeaderCellDef>Start Date</th>
                  <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                      <mat-form-field appearance="outline" [style.width.%]="98">                    
                        <input formControlName="from" matInput [matDatepicker]="pickerFrom"
                        (click)="pickerFrom.open()" placeholder="Start from">
                    <mat-datepicker-toggle matSuffix [for]="pickerFrom"></mat-datepicker-toggle>
                    <mat-datepicker #pickerFrom></mat-datepicker>              
                          
                      </mat-form-field>
                  </td>
                  <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>
				   <ng-container matColumnDef="To">
                  <th mat-header-cell *matHeaderCellDef>End Year</th>
                  <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                      <mat-form-field appearance="outline" [style.width.%]="98">                    
                        <input formControlName="to" matInput [matDatepicker]="pickerTo"
                        (click)="pickerTo.open()" placeholder="End Year">
                    <mat-datepicker-toggle matSuffix [for]="pickerTo"></mat-datepicker-toggle>
                    <mat-datepicker #pickerTo></mat-datepicker>              
                          
                      </mat-form-field>
                  </td>
                  <td mat-footer-cell *matFooterCellDef> </td>
      
              </ng-container>

                 
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">Actions</th>
                    <td mat-cell *matCellDef="let element; let index = index">
        
                        <button type="button" mat-icon-button title="Delete" color="warn" [swal]="{
                              title: 'Confirmation',
                              text: 'Are you sure that you want to delete the record?',
                              showCancelButton: true
                          }" (confirm)="onPersonnelPostingDelete(element,index)">
                            <mat-icon>delete</mat-icon>
                        </button>
        
                    </td>
                    <td mat-footer-cell *matFooterCellDef>
                        <button type="button" (click)="onAddPersonnelPosting()" mat-icon-button title="Delete"
                            color="warn">
                            <mat-icon>add</mat-icon>
                        </button>
                    </td>
        
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="personnelPostingsDataSourceColumns"></tr>
                <tr [hidden]="row.controls['isActive'].value==0" mat-row
                    *matRowDef="let row; columns: personnelPostingsDataSourceColumns"></tr>
                <tr mat-footer-row *matFooterRowDef="personnelPostingsDataSourceColumns"></tr>
            </table>
        </div> 
        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayoutAlign="space-between center">
            <h4 class="mat-headline" fxFlex="80">Personnel Case Details</h4>
        </div>
        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
            <table mat-table formArrayName="personnelCaseDetails"               
             [dataSource]="caseDetailDataSource"
                class="mat-elevation-z8 table-index">
                <ng-container matColumnDef="No">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">No</th>
                    <td mat-cell *matCellDef="let element ; let i = index">No {{ i+1}}</td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>
                <ng-container matColumnDef="Title">
                    <th mat-header-cell *matHeaderCellDef>Case Title</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Case Title</mat-label>
                                <input matInput formControlName="title">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>
                <ng-container matColumnDef="CurrentStatus">
                    <th mat-header-cell *matHeaderCellDef>Current Status</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Current Status</mat-label>
                                <input matInput formControlName="currentStatus">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>
				<ng-container matColumnDef="CaseNumber">
                    <th mat-header-cell *matHeaderCellDef>Case Number</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Case Number</mat-label>
                                <input matInput formControlName="caseNumber">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>
				<ng-container matColumnDef="CaseSection">
                    <th mat-header-cell *matHeaderCellDef>Case Section</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Case Section</mat-label>
                                <input matInput formControlName="caseSection">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>               
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">Actions</th>
                    <td mat-cell *matCellDef="let element; let index = index">
        
                        <button type="button" mat-icon-button title="Delete" color="warn" [swal]="{
                              title: 'Confirmation',
                              text: 'Are you sure that you want to delete the record?',
                              showCancelButton: true
                          }" (confirm)="onCaseDetailDelete(element,index)">
                            <mat-icon>delete</mat-icon>
                        </button>
        
                    </td>
                    <td mat-footer-cell *matFooterCellDef>
                        <button type="button" (click)="onAddCaseDetail()" mat-icon-button title="Delete"
                            color="warn">
                            <mat-icon>add</mat-icon>
                        </button>
                    </td>
        
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="caseDetailDataSourceColumns"></tr>
                <tr [hidden]="row.controls['isActive'].value==0" mat-row
                    *matRowDef="let row; columns: caseDetailDataSourceColumns"></tr>
                <tr mat-footer-row *matFooterRowDef="caseDetailDataSourceColumns"></tr>
            </table>
        </div> 
        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayoutAlign="space-between center">
            <h4 class="mat-headline" fxFlex="80">Personnel Purnishments or Warnings</h4>
        </div>
        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
            <table mat-table formArrayName="personnelWarningOrPunishments"               
             [dataSource]="personnelWarningDataSource"
                class="mat-elevation-z8 table-index">
                <ng-container matColumnDef="No">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">No</th>
                    <td mat-cell *matCellDef="let element ; let i = index">No {{ i+1}}</td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>
                <ng-container matColumnDef="Title">
                    <th mat-header-cell *matHeaderCellDef>Description</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Description</mat-label>
                                <input matInput formControlName="title">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>				
				<ng-container matColumnDef="WarningDate">
                    <th mat-header-cell *matHeaderCellDef>Warning Date</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                       
                         <mat-form-field appearance="outline" [style.width.%]="98">                    
                         <input formControlName="warningDate" matInput [matDatepicker]="warningDatePicker"
                            (click)="warningDatePicker.open()" placeholder="Warning Date">
                        <mat-datepicker-toggle matSuffix [for]="warningDatePicker"></mat-datepicker-toggle>
                        <mat-datepicker #warningDatePicker></mat-datepicker>              
                        </mat-form-field>
                       
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>
                 
                <ng-container matColumnDef="Document">
                    <th mat-header-cell *matHeaderCellDef>Document</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <input matInput formControlName="attachmentUrl">
               <mat-toolbar>      
                   <input   type="file" #fileWarningMedia placeholder="Choose file" 
                   (change)="onWarningMediaFileSelected(fileWarningMedia.files)" style="display:none;">
                    <button type="button" color="primary" mat-raised-button
                        (click)="fileWarningMedia.click()">Choose file <mat-icon>attachment</mat-icon></button>                 
                 </mat-toolbar> 
                      
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>  	    
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">Actions</th>
                    <td mat-cell *matCellDef="let element; let index = index">
        
                        <button type="button" mat-icon-button title="Delete" color="warn" [swal]="{
                              title: 'Confirmation',
                              text: 'Are you sure that you want to delete the record?',
                              showCancelButton: true
                          }" (confirm)="onPersonnelWarningDelete(element,index)">
                            <mat-icon>delete</mat-icon>
                        </button>
        
                    </td>
                    <td mat-footer-cell *matFooterCellDef>
                        <button type="button" (click)="onAddPersonnelWarning()" mat-icon-button title="Delete"
                            color="warn">
                            <mat-icon>add</mat-icon>
                        </button>
                    </td>
        
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="personnelWarningDataSourceColumns"></tr>
                <tr [hidden]="row.controls['isActive'].value==0" mat-row
                    *matRowDef="let row; columns: personnelWarningDataSourceColumns"></tr>
                <tr mat-footer-row *matFooterRowDef="personnelWarningDataSourceColumns"></tr>
            </table>
        </div> 
        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayoutAlign="space-between center">
            <h4 class="mat-headline" fxFlex="80">Gallantry Awards / Achievements</h4>
        </div>
              
        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
            <table mat-table formArrayName="personnelGallantryAwards"               
             [dataSource]="gallantryAwardsDataSource"
                class="mat-elevation-z8 table-index">
                <ng-container matColumnDef="No">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">No</th>
                    <td mat-cell *matCellDef="let element ; let i = index">No {{ i+1}}</td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>
                <ng-container matColumnDef="Title">
                    <th mat-header-cell *matHeaderCellDef>Title</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Title</mat-label>
                                <input matInput formControlName="title">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>	
				<ng-container matColumnDef="IssuingAuthority">
                    <th mat-header-cell *matHeaderCellDef>Issueing Authority</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Issueing Authority</mat-label>
                                <input matInput formControlName="issueingAuthority">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>					
				<ng-container matColumnDef="IssuingDate">
                    <th mat-header-cell *matHeaderCellDef>Issuing Date</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                       
                         <mat-form-field appearance="outline" [style.width.%]="98">                    
                         <input formControlName="issuingDate" matInput [matDatepicker]="issuingDatePicker"
                            (click)="issuingDatePicker.open()" placeholder="Issuing Date">
                        <mat-datepicker-toggle matSuffix [for]="issuingDatePicker"></mat-datepicker-toggle>
                        <mat-datepicker #issuingDatePicker></mat-datepicker>              
                        </mat-form-field>
                       
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>
                 
                <ng-container matColumnDef="Document">
                    <th mat-header-cell *matHeaderCellDef>Document</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <input matInput formControlName="awardDocumentUrl">
               <mat-toolbar>      
                   <input   type="file" #awardFileMedia placeholder="Choose file" 
                   (change)="onAwardMediaFileSelected(awardFileMedia.files)" style="display:none;">
                    <button type="button" color="primary" mat-raised-button
                        (click)="awardFileMedia.click()">Choose file <mat-icon>attachment</mat-icon></button>                 
                 </mat-toolbar> 
                      
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>  	    
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">Actions</th>
                    <td mat-cell *matCellDef="let element; let index = index">
        
                        <button type="button" mat-icon-button title="Delete" color="warn" [swal]="{
                              title: 'Confirmation',
                              text: 'Are you sure that you want to delete the record?',
                              showCancelButton: true
                          }" (confirm)="onGallantryAwardDelete(element,index)">
                            <mat-icon>delete</mat-icon>
                        </button>
        
                    </td>
                    <td mat-footer-cell *matFooterCellDef>
                        <button type="button" (click)="onAddGallantryAwards()" mat-icon-button title="Delete"
                            color="warn">
                            <mat-icon>add</mat-icon>
                        </button>
                    </td>
        
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="gallantryAwardsDataSourceColumns"></tr>
                <tr [hidden]="row.controls['isActive'].value==0" mat-row
                    *matRowDef="let row; columns: gallantryAwardsDataSourceColumns"></tr>
                <tr mat-footer-row *matFooterRowDef="gallantryAwardsDataSourceColumns"></tr>
            </table>
        </div>

        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayoutAlign="space-between center">
            <h4 class="mat-headline" fxFlex="80">Previous Allegations </h4>
        </div>
        <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
            <table mat-table formArrayName="personnelPreviousAllegations"               
             [dataSource]="previousAllegationsDataSource"
                class="mat-elevation-z8 table-index">
                <ng-container matColumnDef="No">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">No</th>
                    <td mat-cell *matCellDef="let element ; let i = index">No {{ i+1}}</td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>
                <ng-container matColumnDef="Result">
                    <th mat-header-cell *matHeaderCellDef>Result</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Result</mat-label>
                                <input matInput formControlName="result">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>	
				<ng-container matColumnDef="Description">
                    <th mat-header-cell *matHeaderCellDef>Description</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <mat-form-field appearance="outline" [style.width.%]="98">                    
                                <mat-label>Description</mat-label>
                                <input matInput formControlName="description">               
                        </mat-form-field>
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>					
				<ng-container matColumnDef="AllegedDate">
                    <th mat-header-cell *matHeaderCellDef>Alleged Date</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                       
                         <mat-form-field appearance="outline" [style.width.%]="98">                    
                         <input formControlName="allegedDate" matInput [matDatepicker]="allegedDatePicker"
                            (click)="allegedDatePicker.open()" placeholder="Alleged Date">
                        <mat-datepicker-toggle matSuffix [for]="allegedDatePicker"></mat-datepicker-toggle>
                        <mat-datepicker #allegedDatePicker></mat-datepicker>              
                        </mat-form-field>
                       
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>        
                </ng-container>
                 
                <ng-container matColumnDef="Document">
                    <th mat-header-cell *matHeaderCellDef>Document</th>
                    <td mat-cell *matCellDef="let element;let index = index" [formGroupName]="index">
                        <input matInput formControlName="attachmentUrl">
               <mat-toolbar>      
                   <input   type="file" #previousFileMedia placeholder="Choose file" 
                   (change)="onPreviouAllegationMediaFileSelected(previousFileMedia.files)" style="display:none;">
                    <button type="button" color="primary" mat-raised-button
                        (click)="previousFileMedia.click()">Choose file <mat-icon>attachment</mat-icon></button>                 
                 </mat-toolbar> 
                      
                    </td>
                    <td mat-footer-cell *matFooterCellDef> </td>
                </ng-container>  	    
                <ng-container matColumnDef="actions">
                    <th mat-header-cell *matHeaderCellDef [style.width.%]="10">Actions</th>
                    <td mat-cell *matCellDef="let element; let index = index">
        
                        <button type="button" mat-icon-button title="Delete" color="warn" [swal]="{
                              title: 'Confirmation',
                              text: 'Are you sure that you want to delete the record?',
                              showCancelButton: true
                          }" (confirm)="onPreviousAllegationDelete(element,index)">
                            <mat-icon>delete</mat-icon>
                        </button>
        
                    </td>
                    <td mat-footer-cell *matFooterCellDef>
                        <button type="button" (click)="onAddPreviousAllegation()" mat-icon-button title="Delete"
                            color="warn">
                            <mat-icon>add</mat-icon>
                        </button>
                    </td>
        
                </ng-container>
        
                <tr mat-header-row *matHeaderRowDef="previousAllegationsDataSourceColumns"></tr>
                <tr [hidden]="row.controls['isActive'].value==0" mat-row
                    *matRowDef="let row; columns: previousAllegationsDataSourceColumns"></tr>
                <tr mat-footer-row *matFooterRowDef="previousAllegationsDataSourceColumns"></tr>
            </table>
        </div>
          <mat-divider></mat-divider>
                      <div fxFlex class="contact-save" fxLayout="row" fxLayoutAlign="end stretch">
                          <div fxFlex="50" fxLayout="row" fxLayoutAlign="">
                              <button color="primary" mat-raised-button [disabled]="!form.valid">SAVE</button>                  
                              <button type="button" (click)="onCancel()" mat-raised-button>CANCEL</button>
                          </div>
                          <div fxFlex="50" fxLayout="row" fxLayoutAlign="">
                          </div>
                      </div>
                      <div fxFlex fxLayoutGap="10px" fxLayout="row" fxLayout.lt-lg="column" fxLayoutAlign="start start">
                      </div>
          
                  </div>
              </form>
          </div>  
           